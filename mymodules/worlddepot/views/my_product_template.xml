<odoo>
    <!-- Tree View -->
    <record id="view_product_import_tree" model="ir.ui.view">
        <field name="name">product.import.tree</field>
        <field name="model">world.depot.product.template</field>
        <field name="arch" type="xml">
            <list string="Product Imports" decoration-danger="state == 'error'" decoration-success="state == 'imported'">
                <field name="product_name"/>
                <field name="product_category"/>
                <field name="barcode"/>
                <field name="track_by_lot"/>
                <field name="track_by_serial"/>
                <field name="gross_weight"/>
                <field name="net_weight"/>
                <field name="hs_code"/>
                <field name="dangerous_goods"/>
                <field name="un_code"/>
                <field name="state" widget="statusbar"/>
                <field name="product_id" widget="many2one_btn"/>
                <field name="error_message" invisible="1"/>
            </list>
        </field>
    </record>
    <!-- Search View -->
    <record id="view_product_import_search" model="ir.ui.view">
        <field name="name">product.import.search</field>
        <field name="model">world.depot.product.template</field>
        <field name="arch" type="xml">
            <search string="Product Imports">
                <filter name="state_draft" string="Draft" domain="[('state','=','draft')]"/>
                <filter name="state_imported" string="Imported" domain="[('state','=','imported')]"/>
                <filter name="state_error" string="Error" domain="[('state','=','error')]"/>
                <separator/>
                <field name="product_name"/>
                <field name="product_category"/>
                <field name="barcode"/>
                <field name="hs_code"/>
                <field name="dangerous_goods"/>
                <field name="un_code"/>
            </search>
        </field>
    </record>
    <!-- Window Action -->
    <record id="action_product_import" model="ir.actions.act_window">
        <field name="name">Product Imports</field>
        <field name="res_model">world.depot.product.template</field>
        <field name="view_mode">list</field>
        <field name="view_id" ref="view_product_import_tree"/>
        <field name="search_view_id" ref="view_product_import_search"/>
    </record>
    <!-- Import Action (for selection) -->
    <record id="action_import_selected" model="ir.actions.server">
        <field name="name">Import Selected Products</field>
        <field name="model_id" ref="model_world_depot_product_template"/>
        <field name="binding_model_id" ref="model_world_depot_product_template"/>
        <field name="state">code</field>
        <field name="code">
            action = records.action_import_products()
        </field>
    </record>
    <!-- Retry Action (for errors) -->
    <record id="action_retry_import" model="ir.actions.server">
        <field name="name">Retry Failed Imports</field>
        <field name="model_id" ref="model_world_depot_product_template"/>
        <field name="binding_model_id" ref="model_world_depot_product_template"/>
        <field name="state">code</field>
        <field name="code">
            action = records.action_retry_import()
        </field>
    </record>
</odoo>